Mailtemplate.all.map { |m| "#{m.name}#{m.subject}#{m.message}" }.map { |str| str.scan(/\{\w+\.\w+\}/).to_a }.flatten.uniq

# => ["{event.name}", "{eventbooking.salutation}", "{eventbooking.lastname}", "{event.start_date}", "{event.start_date_day}", "{request.firstname}", "{request.lastname}", "{request.email}", "{request.tel}", "{request.message}", "{eventbooking.firstname}", "{eventbooking.gender_indirect}", "{event.location}", "{eventbooking.booking_date_year}", "{eventbooking.booking_date}", "{eventbooking.booking_date_day}", "{event.start_time}", "{event.end_date_hours}", "{event.price}", "{eventbooking.company}", "{eventbooking.gender_direct}", "{eventbooking.street}", "{eventbooking.street_no}", "{eventbooking.zip}", "{eventbooking.city}", "{eventbooking.country}"]
